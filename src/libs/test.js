export var BookingIframe=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var f=Math.max,g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(1),i=d(h),j=c(3),k=d(j),l=c(5),m=d(l),n=!1;'undefined'!=typeof jQuery&&(jQuery.noConflict(),n=!0);var o=function(){function a(b){e(this,a),this._settings=b,this._wixUrl='',this.scrollingElement=document.body,this.scrollingContainer=window}return g(a,[{key:'init',value:function(){var a=this;this.settings=this._preprocessSettings(this._settings),k.default.any&&1==this.settings.IsMobile&&this._redirectToBookingModule(),this._createIframe(),this._getScrollingElements(),window.addEventListener('message',function(b){if('bnovobook_signal'===b.data.event){var c=b.data.params||null;c&&'container_scroll_to'===c.name&&a.scrollingContainer!==window&&(n?jQuery(a.scrollingContainer).animate({scrollTop:c.scrollTop},600):a.scrollingContainer.scrollTo({left:0,top:c.scrollTop,behavior:'smooth'})),c&&'block_scrolls'===c.name&&(a.scrollingElement===document.body?a.scrollingElement.style.overflow='hidden':a.scrollingContainer.style.overflow='hidden'),c&&'allow_scrolls'===c.name&&(a.scrollingElement===document.body?a.scrollingElement.style.overflow='auto':a.scrollingContainer.style.overflow='auto')}},!1)}},{key:'reload',value:function(a){'undefined'!=typeof a&&(this._wixUrl=a),this.settings=this._preprocessSettings(this._settings),this._reloadIframe()}},{key:'_redirectToBookingModule',value:function(){window.parent.location=this.settings.iframe_url}},{key:'_preprocessSettings',value:function(a){var b=new m.default(a,this._wixUrl);return b.getSettings()}},{key:'_getContainerWindow',value:function(){if(null!==document.getElementById(this.settings.html_id))return window;if(null!==window.parent.document.getElementById(this.settings.html_id))return window.parent;throw new Error('\u041F\u0440\u0438 \u043F\u043E\u0438\u0441\u043A\u0435 \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 html_id \u0434\u043E\u043B\u0436\u043D\u043E \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C id \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0433\u043E DOM \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430. \u041F\u0435\u0440\u0435\u0434\u0430\u043D\u043E: '+this.settings.html_id)}},{key:'_createIframe',value:function(){var a=this._getContainerWindow(),b=a.document.createElement('iframe');b.setAttribute('src',this.settings.iframe_url),b.setAttribute('id',this.settings.iframe_id),b.setAttribute('frameborder',0),b.setAttribute('allowTransparency',1),b.setAttribute('style','width: 100%'),b.setAttribute('sandbox','allow-top-navigation allow-forms allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox'),this._isIframeHeightAutoSized()?b.setAttribute('scrolling','no'):b.setAttribute('style','width: 100%; height: '+this.settings.height),this._resizeIframeParent(),a.document.getElementById(this.settings.html_id).appendChild(b),b.onload=function(){if(n)jQuery(document).trigger('bnovo_iframe_loaded');else{var a=new Event('bnovo_iframe_loaded',{bubbles:!0});document.dispatchEvent(a)}},this._resizeIframe()}},{key:'_reloadIframe',value:function(){var a=this._getContainerWindow(),b=a.document.getElementById(this.settings.iframe_id);b.setAttribute('src',this.settings.iframe_url),this._isIframeHeightAutoSized()?b.setAttribute('scrolling','no'):b.setAttribute('style','width: 100%; height: '+this.settings.height),this._resizeIframeParent(),this._resizeIframe()}},{key:'_resizeIframe',value:function(){this._isIframeHeightAutoSized()?this._applyAutoSize():this._initIframeResizer()}},{key:'_resizeIframeParent',value:function(){var a=this._getContainerWindow(),b=a.document.getElementById(this.settings.html_id),c='';'auto'!==this.settings.width&&(c+='width: '+this.settings.width+';'),'auto'!==this.settings.height&&(c+='height: '+this.settings.height+';'),''!=c&&b.setAttribute('style',c)}},{key:'_isIframeHeightAutoSized',value:function(){return'auto'===this.settings.height}},{key:'_getScrollingElements',value:function(){this.settings.scrolling_element_selector&&document.querySelector(this.settings.scrolling_element_selector)&&this.settings.scrolling_container_selector&&document.querySelector(this.settings.scrolling_container_selector)&&(this.scrollingElement=document.querySelector(this.settings.scrolling_element_selector),this.scrollingContainer=document.querySelector(this.settings.scrolling_container_selector))}},{key:'_applyAutoSize',value:function(){var a=this,b=-1!==navigator.userAgent.indexOf('MSIE'),c={checkOrigin:!1,heightCalculationMethod:b?'max':'taggedElement',onInit:function(b){b.iFrameResizer.sendMessage(JSON.stringify({type:'init',height:'auto',parent_window_in_iframe:a._isOpenedInIframe(),value:a._getPageInfo(b,!1)})),a.scrollingContainer.addEventListener('scroll',function(){b.iFrameResizer.sendMessage('{"type":"scroll", "value":'+a._getPageInfo(b)+'}')}),window.addEventListener('resize',function(){b.iFrameResizer.sendMessage('{"type":"resize", "value":'+a._getPageInfo(b)+'}')})}};n?jQuery('#'+a.settings.iframe_id).iFrameResize(c):(0,i.default)(c,'#'+this.settings.iframe_id)}},{key:'_initIframeResizer',value:function(){var a=this;(0,i.default)({},'#'+this.settings.iframe_id);var b={checkOrigin:!1,autoResize:!1,sizeHeight:!1,scrolling:!0,onInit:function(b){b.iFrameResizer.sendMessage(JSON.stringify({type:'init',height:'fixed',parent_window_in_iframe:a._isOpenedInIframe(),value:a._getPageInfo(b,!1)})),a.scrollingContainer.addEventListener('scroll',function(){b.iFrameResizer.sendMessage('{"type":"scroll", "value":'+a._getPageInfo(b)+'}')}),window.addEventListener('resize',function(){b.iFrameResizer.sendMessage('{"type":"resize", "value":'+a._getPageInfo(b)+'}')})}};n?jQuery('#'+a.settings.iframe_id).iFrameResize(b):(0,i.default)(b,'#'+this.settings.iframe_id)}},{key:'_getPageInfo',value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,c=this.scrollingElement.getBoundingClientRect(),d=a.getBoundingClientRect(),e=0;if(c.width>this.settings.fixed_mobile_header_width){if(this.settings.fixed_header_selector&&''!==this.settings.fixed_header_selector){var g=document.querySelector(this.settings.fixed_header_selector);e=g&&g.offsetHeight?g.offsetHeight:0}}else if(this.settings.fixed_mobile_header_selector&&''!==this.settings.fixed_mobile_header_selector){var h=document.querySelector(this.settings.fixed_mobile_header_selector);e=h&&h.offsetHeight?h.offsetHeight:0}var i={windowHeight:window.innerHeight,clientHeight:f(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:f(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(d.top-c.top,10),offsetLeft:parseInt(d.left-c.left,10),scrollTop:this.scrollingContainer==window?this.scrollingContainer.pageYOffset:this.scrollingContainer.scrollTop,scrollLeft:this.scrollingContainer==window?this.scrollingContainer.pageXOffset:this.scrollingContainer.scrollLeft,headerHeight:e,headMargin:1===this.settings.insidePopup?24:0,customContainer:this.scrollingContainer===window?0:1,bodyPosition:c,iFramePosition:d};return b?JSON.stringify(i):i}},{key:'_isOpenedInIframe',value:function(){try{return window.self!==window.top}catch(a){return!0}}}]),a}();a.exports=o},function(a,b,c){'use strict';a.exports=c(2)},function(q,D){'use strict';var G,J,K,a=Math.max,b='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};/*! iFrame Resizer (iframeSizer.min.js ) - v4.3.5 - 2023-03-08
 *  Desc: Force cross domain iframes to size to content.
 *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.
 *  Copyright: (c) 2023 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */!function(Q){function d(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function m(a,b,c){a.addEventListener(b,c,!1)}function F(a,b,c){a.removeEventListener(b,c,!1)}function B(a){return v+'['+(b='Host page: '+(a=a),b=window.top===window.self?b:window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+': '+a:'Nested host page: '+a)+']';var b}function p(a){return Y[a]?Y[a].log:c}function U(a,b){t('log',a,b,p(a))}function O(a,b){t('info',a,b,p(a))}function E(a,b){t('warn',a,b,!0)}function t(a,c,d,e){!0===e&&'object'==b(window.console)&&console[a](B(c),d)}function o(k){function q(){i('Height'),i('Width'),H(function(){j(p),T(J),f('onResized',p)},p,'init')}function e(){var a=G.slice(x).split(':'),b=a[1]?parseInt(a[1],10):0,c=Y[a[0]]&&Y[a[0]].iframe,d=getComputedStyle(c);return{iframe:c,id:a[0],height:b+function(a){if('border-box'!==a.boxSizing)return 0;var b=a.paddingTop?parseInt(a.paddingTop,10):0,a=a.paddingBottom?parseInt(a.paddingBottom,10):0;return b+a}(d)+function(a){if('border-box'!==a.boxSizing)return 0;var b=a.borderTopWidth?parseInt(a.borderTopWidth,10):0,a=a.borderBottomWidth?parseInt(a.borderBottomWidth,10):0;return b+a}(d),width:a[2],type:a[3]}}function i(a){var b=+Y[J]['max'+a],c=+Y[J]['min'+a],a=a.toLowerCase(),d=+p[a];U(J,'Checking '+a+' is in range '+c+'-'+b),d<c&&(d=c,U(J,'Set '+a+' to min value')),b<d&&(d=b,U(J,'Set '+a+' to max value')),p[a]=''+d}function t(){var a=k.origin,b=Y[J]&&Y[J].checkOrigin;if(b&&'null'!=''+a&&!function(){if(b.constructor!==Array)return c=Y[J]&&Y[J].remoteHost,U(J,'Checking connection is from: '+c),a===c;var c,d=0,e=!1;for(U(J,'Checking connection is from allowed list of origins: '+b);d<b.length;d++)if(b[d]===a){e=!0;break}return e}())throw new Error('Unexpected message received from: '+a+' for '+p.iframe.id+'. Message was: '+k.data+'. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.');return 1}function z(a){return G.slice(G.indexOf(':')+n+a)}function B(b,c){var d,e,f;d=function(){var d,e;P('Send Page Info','pageInfo:'+(d=document.body.getBoundingClientRect(),e=p.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:e.height,iframeWidth:e.width,clientHeight:a(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:a(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(e.top-d.top,10),offsetLeft:parseInt(e.left-d.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),b,c)},e=32,l[f=c]||(l[f]=setTimeout(function(){l[f]=null,d()},e))}function o(a){var b=Math.floor;return a=a.getBoundingClientRect(),N(J),{x:b(+a.left+ +I.x),y:b(+a.top+ +I.y)}}function s(a){var b=a?o(p.iframe):{x:0,y:0},c={x:+p.width+b.x,y:+p.height+b.y};U(J,'Reposition requested from iFrame (offset x:'+b.x+' y:'+b.y+')'),window.top===window.self?(I=c,d(),U(J,'--')):window.parentIFrame?window.parentIFrame['scrollTo'+(a?'Offset':'')](c.x,c.y):E(J,'Unable to scroll to requested position, window.parentIFrame not found')}function d(){!1===f('onScroll',I)?C():T(J)}function c(a){var a=a.split('#')[1]||'',b=decodeURIComponent(a),b=document.getElementById(b)||document.getElementsByName(b)[0];b?(b=o(b),U(J,'Moving to in page link (#'+a+') at x: '+b.x+' y: '+b.y),I={x:b.x,y:b.y},d(),U(J,'--')):window.top===window.self?U(J,'In page link #'+a+' not found'):window.parentIFrame?window.parentIFrame.moveToAnchor(a):U(J,'In page link #'+a+' not found and window.parentIFrame not found')}function u(a){var b,c={};c=0===+p.width&&0===+p.height?{x:(b=z(9).split(':'))[1],y:b[0]}:{x:p.width,y:p.height},f(a,{iframe:p.iframe,screenX:+c.x,screenY:+c.y,type:p.type})}function f(a,b){return w(J,a,b)}var r,D,G=k.data,p={},J=null;if('[iFrameResizerChild]Ready'===G)for(var b in Y)P('iFrame requested init',A(b),Y[b].iframe,b);else v===(''+G).slice(0,x)&&G.slice(x).split(':')[0]in Y?(p=e(),J=p.id,Y[J]&&(Y[J].loaded=!0),(D=p.type in{true:1,false:1,undefined:1})&&U(J,'Ignoring init message from meta parent page'),!D&&(D=!0,Y[r=J]||(D=!1,E(p.type+' No settings for '+r+'. Message was: '+G)),D)&&(U(J,'Received: '+G),r=!0,null===p.iframe&&(E(J,'IFrame ('+p.id+') not found'),r=!1),r&&t()&&function(){function a(a,c){function f(){Y[d]?B(Y[d].iframe,d):b()}['scroll','resize'].forEach(function(b){U(d,a+b+' listener for sendPageInfo'),c(window,b,f)})}function b(){a('Remove ',F)}switch(Y[J]&&Y[J].firstRun&&Y[J]&&(Y[J].firstRun=!1),p.type){case'close':g(p.iframe);break;case'message':e=z(6),U(J,'onMessage passed: {iframe: '+p.iframe.id+', message: '+e+'}'),f('onMessage',{iframe:p.iframe,message:JSON.parse(e)}),U(J,'--');break;case'mouseenter':u('onMouseEnter');break;case'mouseleave':u('onMouseLeave');break;case'autoResize':Y[J].autoResize=JSON.parse(z(9));break;case'scrollTo':s(!1);break;case'scrollToOffset':s(!0);break;case'pageInfo':B(Y[J]&&Y[J].iframe,J),d=J,a('Add ',m),Y[d]&&(Y[d].stopPageInfo=b);break;case'pageInfoStop':Y[J]&&Y[J].stopPageInfo&&(Y[J].stopPageInfo(),delete Y[J].stopPageInfo);break;case'inPageLink':c(z(9));break;case'reset':S(p);break;case'init':q(),f('onInit',p.iframe);break;default:0===+p.width&&0===+p.height?E('Unsupported message received ('+p.type+'), this is likely due to the iframe containing a later version of iframe-resizer than the parent page'):q();}var d,e}())):O(J,'Ignored: '+G)}function w(a,b,c){var d=null,e=null;if(Y[a]){if('function'!=typeof(d=Y[a][b]))throw new TypeError(b+' on iFrame['+a+'] is not a function');e=d(c)}return e}function R(a){a=a.id,delete Y[a]}function g(a){var b=a.id;if(!1===w(b,'onClose',b))U(b,'Close iframe cancelled by onClose event');else{U(b,'Removing iFrame: '+b);try{a.parentNode&&a.parentNode.removeChild(a)}catch(a){E(a)}w(b,'onClosed',b),U(b,'--'),R(a)}}function N(a){null===I&&U(a,'Get page position: '+(I={x:window.pageXOffset===Q?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===Q?document.documentElement.scrollTop:window.pageYOffset}).x+','+I.y)}function T(a){null!==I&&(window.scrollTo(I.x,I.y),U(a,'Set page position: '+I.x+','+I.y),C())}function C(){I=null}function S(a){U(a.id,'Size reset requested by '+('init'===a.type?'host page':'iFrame')),N(a.id),H(function(){j(a),P('reset','reset',a.iframe,a.id)},a,'reset')}function j(b){function c(c){function f(){Object.keys(Y).forEach(function(a){function b(a){return'0px'===(Y[c]&&Y[c].iframe.style[a])}var c;Y[c=a]&&null!==Y[c].iframe.offsetParent&&(b('height')||b('width'))&&P('Visibility change','resize',Y[c].iframe,c)})}var e;!u&&'0'===b[c]&&(u=!0,U(g,'Hidden iFrame detected, creating visibility listener'),c=d())&&(e=document.querySelector('body'),new c(function(a){U('window','Mutation observed: '+a[0].target+' '+a[0].type),s(f,16)}).observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}))}function f(a){var d;d=a,b.id?(b.iframe.style[d]=b[d]+'px',U(b.id,'IFrame ('+g+') '+d+' set to '+b[d]+'px')):U('undefined','messageData id not set'),c(a)}var g=b.iframe.id;Y[g]&&(Y[g].sizeHeight&&f('height'),Y[g].sizeWidth)&&f('width')}function H(a,b,c){c!==b.type&&M&&!window.jasmine?(U(b.id,'Requesting animation frame'),M(a)):a()}function P(a,b,c,d,f){var e=!1;d=d||c.id,Y[d]&&(function(){var f;c&&'contentWindow'in c&&null!==c.contentWindow?(f=Y[d]&&Y[d].targetOrigin,U(d,'['+a+'] Sending msg to iframe['+d+'] ('+b+') targetOrigin: '+f),c.contentWindow.postMessage(v+b,f)):E(d,'['+a+'] IFrame('+d+') not found')}(),function(){f&&Y[d]&&Y[d].warningTimeout&&(Y[d].msgTimeout=setTimeout(function(){!Y[d]||Y[d].loaded||e||(e=!0,E(d,'IFrame has not responded within '+Y[d].warningTimeout/1e3+' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.'))},Y[d].warningTimeout))}())}function A(a){return a+':'+Y[a].bodyMarginV1+':'+Y[a].sizeWidth+':'+Y[a].log+':'+Y[a].interval+':'+Y[a].enablePublicMethods+':'+Y[a].autoResize+':'+Y[a].bodyMargin+':'+Y[a].heightCalculationMethod+':'+Y[a].bodyBackground+':'+Y[a].bodyPadding+':'+Y[a].tolerance+':'+Y[a].inPageLinks+':'+Y[a].resizeFrom+':'+Y[a].widthCalculationMethod+':'+Y[a].mouseEvents}function L(f,h){function i(a){var b=d();b&&(b=b,f.parentNode)&&new b(function(a){a.forEach(function(a){Array.prototype.slice.call(a.removedNodes).forEach(function(a){a===f&&g(f)})})}).observe(f.parentNode,{childList:!0}),m(f,'load',function(){var b,c;P('iFrame.onload',a,f,Q,!0),b=Y[o]&&Y[o].firstRun,c=Y[o]&&Y[o].heightCalculationMethod in X,!b&&c&&S({iframe:f,height:0,width:0,type:'init'})}),P('init',a,f,Q,!0)}function j(a){var b=a.split('Callback');2===b.length&&(this[b='on'+b[0].charAt(0).toUpperCase()+b[0].slice(1)]=this[a],delete this[a],E(o,'Deprecated: \''+a+'\' has been renamed \''+b+'\'. The old method will be removed in the next major version.'))}function e(a){if(a=a||{},Y[o]=Object.create(null),Y[o].iframe=f,Y[o].firstRun=!0,Y[o].remoteHost=f.src&&f.src.split('/').slice(0,3).join('/'),'object'!=('undefined'==typeof a?'undefined':b(a)))throw new TypeError('Options is not an object');Object.keys(a).forEach(j,a);var c,d=a;for(c in k)Object.prototype.hasOwnProperty.call(k,c)&&(Y[o][c]=(Object.prototype.hasOwnProperty.call(d,c)?d:k)[c]);Y[o]&&(Y[o].targetOrigin=!0!==Y[o].checkOrigin||''===(a=Y[o].remoteHost)||null!==a.match(/^(about:blank|javascript:|file:\/\/)/)?'*':a)}function l(a){var b=Y[o][a];1/0!==b&&0!==b&&(f.style[a]='number'==typeof b?b+'px':b,U(o,'Set '+a+' = '+f.style[a]))}function a(a){if(Y[o]['min'+a]>Y[o]['max'+a])throw new Error('Value for min'+a+' can not be greater than max'+a)}var o=function(a){if('string'!=typeof a)throw new TypeError('Invaild id for iFrame. Expected String');var b;return''===a&&(f.id=(b=h&&h.id||k.id+y++,null!==document.getElementById(b)&&(b+=y++),a=b),c=(h||{}).log,U(a,'Added missing iframe ID: '+a+' ('+f.src+')')),a}(f.id);if(o in Y&&'iFrameResizer'in f)E(o,'Ignored iFrame, already setup.');else{switch(e(h),U(o,'IFrame scrolling '+(Y[o]&&Y[o].scrolling?'enabled':'disabled')+' for '+o),f.style.overflow=!1===(Y[o]&&Y[o].scrolling)?'hidden':'auto',Y[o]&&Y[o].scrolling){case'omit':break;case!0:f.scrolling='yes';break;case!1:f.scrolling='no';break;default:f.scrolling=Y[o]?Y[o].scrolling:'no';}a('Height'),a('Width'),l('maxHeight'),l('minHeight'),l('maxWidth'),l('minWidth'),'number'!=typeof(Y[o]&&Y[o].bodyMargin)&&'0'!==(Y[o]&&Y[o].bodyMargin)||(Y[o].bodyMarginV1=Y[o].bodyMargin,Y[o].bodyMargin+='px'),i(A(o)),Y[o]&&(Y[o].iframe.iFrameResizer={close:g.bind(null,Y[o].iframe),removeListeners:R.bind(null,Y[o].iframe),resize:P.bind(null,'Window resize','resize',Y[o].iframe),moveToAnchor:function(a){P('Move to anchor','moveToAnchor:'+a,Y[o].iframe,o)},sendMessage:function(a){P('Send Message','message:'+(a=JSON.stringify(a)),Y[o].iframe,o)}})}}function s(a,b){null===f&&(f=setTimeout(function(){f=null,a()},b))}function h(){'hidden'!==document.visibilityState&&(U('document','Trigger event: Visibility change'),s(function(){V('Tab Visible','resize')},16))}function V(a,b){Object.keys(Y).forEach(function(c){var d;Y[d=c]&&'parent'===Y[d].resizeFrom&&Y[d].autoResize&&!Y[d].firstRun&&P(a,b,Y[c].iframe,c)})}function W(){m(window,'message',o),m(window,'resize',function(){var a;U('window','Trigger event: '+(a='resize')),s(function(){V('Window '+a,'resize')},16)}),m(document,'visibilitychange',h),m(document,'-webkit-visibilitychange',h)}function e(){function a(a,b){if(b){if(!b.tagName)throw new TypeError('Object is not a valid DOM element');if('IFRAME'!==b.tagName.toUpperCase())throw new TypeError('Expected <IFRAME> tag, found <'+b.tagName+'>');L(b,a),c.push(b)}}for(var c,d=['moz','webkit','o','ms'],e=0;e<d.length&&!M;e+=1)M=window[d[e]+'RequestAnimationFrame'];return M?M=M.bind(window):U('setup','RequestAnimationFrame not supported'),W(),function(d,e){var f;switch(c=[],(f=d)&&f.enablePublicMethods&&E('enablePublicMethods option has been removed, public methods are now always available in the iFrame'),'undefined'==typeof e?'undefined':b(e)){case'undefined':case'string':Array.prototype.forEach.call(document.querySelectorAll(e||'iframe'),a.bind(Q,d));break;case'object':a(d,e);break;default:throw new TypeError('Unexpected data type ('+('undefined'==typeof e?'undefined':b(e))+')');}return c}}var y,c,u,n,v,x,I,M,X,Y,f,k,l;'undefined'!=typeof window&&(y=0,u=c=!1,n=7,x=(v='[iFrameSizer]').length,I=null,M=window.requestAnimationFrame,X=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),Y={},f=null,k=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:'bodyOffset',id:'iFrameResizer',interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:'parent',scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:'scroll',onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){E('onMessage function not defined')},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}}),l={},window.jQuery!==Q&&function(a){a.fn?a.fn.iFrameResize||(a.fn.iFrameResize=function(a){return this.filter('iframe').each(function(b,c){L(c,a)}).end()}):O('','Unable to bind to jQuery, it is not fully loaded.')}(window.jQuery),(J=[],G=e,K='function'==typeof G?G.apply(D,J):G,!(K!==void 0&&(q.exports=K))),window.iFrameResize=window.iFrameResize||e())}()},function(a,b,c){'use strict';a.exports=c(4)},function(a,e,l){'use strict';var o,r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};(function(){function x(a){return function(b){return b.test(a)}}var w={},f=/iPhone/i,g=/iPod/i,i=/iPad/i,j=/\biOS-universal(?:.+)Mac\b/i,k=/\bAndroid(?:.+)Mobile\b/i,h=/Android/i,m=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,d=/Windows Phone/i,b=/\bWindows(?:.+)ARM\b/i,n=/BlackBerry/i,p=/BB10/i,q=/Opera Mini/i,s=/\b(CriOS|Chrome)(?:.+)Mobile/i,t=/Mobile(?:.+)Firefox\b/i,u=function(a){return void 0!==a&&'MacIntel'===a.platform&&'number'==typeof a.maxTouchPoints&&1<a.maxTouchPoints&&'undefined'==typeof MSStream};w=function(v){var w={userAgent:'',platform:'',maxTouchPoints:0};v||'undefined'==typeof navigator?'string'==typeof v?w.userAgent=v:v&&v.userAgent&&(w={userAgent:v.userAgent,platform:v.platform,maxTouchPoints:v.maxTouchPoints||0}):w={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var y=w.userAgent,a=y.split('[FBAN');void 0!==a[1]&&(y=a[0]),void 0!==(a=y.split('Twitter'))[1]&&(y=a[0]);var e=x(y),r={apple:{phone:e(f)&&!e(d),ipod:e(g),tablet:!e(f)&&(e(i)||u(w))&&!e(d),universal:e(j),device:(e(f)||e(g)||e(i)||e(j)||u(w))&&!e(d)},amazon:{phone:e(m),tablet:!e(m)&&e(c),device:e(m)||e(c)},android:{phone:!e(d)&&e(m)||!e(d)&&e(k),tablet:!e(d)&&!e(m)&&!e(k)&&(e(c)||e(h)),device:!e(d)&&(e(m)||e(c)||e(k)||e(h))||e(/\bokhttp\b/i)},windows:{phone:e(d),tablet:e(b),device:e(d)||e(b)},other:{blackberry:e(n),blackberry10:e(p),opera:e(q),firefox:e(t),chrome:e(s),device:e(n)||e(p)||e(q)||e(t)||e(s)},any:!1,phone:!1,tablet:!1};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}(),'object'===r(e)&&'undefined'!=typeof a?a.exports=w:(o=function(){return w}.call(e,l,e,a),!(o!==void 0&&(a.exports=o)))})()},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var e=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(6),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h={html_id:'booking_iframe',uid:'0fec8561-59e3-49e7-84aa-40ea40e48643',lang:'ru',currency:null,width:'auto',height:'auto',dfrom:null,dto:null,rooms:'',IsMobile:0,promoCode:'',vkapp:'',scroll_to_rooms:1,adults:null,children:null,fixed_header_selector:null,fixed_mobile_header_width:900,fixed_mobile_header_selector:null,scrolling_container_selector:null,scrolling_element_selector:null,servicemode:null,firstroom:null,insidePopup:0,utm_source:null,utm_medium:null,utm_campaign:null,utm_term:null,utm_content:null},i=function(){function a(b,c){d(this,a),this.wixUrl=c,this.settings=this._mergeWithDefaultSettings(b),this._validateSettings(this.settings),this.settings=this._addCalculatedSettings(this.settings)}return e(a,[{key:'getSettings',value:function(){return{html_id:this.settings.html_id,uid:this.settings.uid,lang:this.settings.lang,currency:this.settings.currency,width:this.settings.width,height:this.settings.height,rooms:this.settings.rooms,iframe_id:this.settings.iframe_id,dfrom:this.settings.dfrom,dto:this.settings.dto,promoCode:this.settings.promoCode,iframe_url:this.settings.iframe_url,IsMobile:this.settings.IsMobile,vkapp:this.settings.vkapp,scroll_to_rooms:this.settings.scroll_to_rooms,adults:this.settings.adults,children:this.settings.children,fixed_header_selector:this.settings.fixed_header_selector,fixed_mobile_header_width:this.settings.fixed_mobile_header_width,fixed_mobile_header_selector:this.settings.fixed_mobile_header_selector,scrolling_element_selector:this.settings.scrolling_element_selector,scrolling_container_selector:this.settings.scrolling_container_selector,servicemode:this.settings.servicemode,firstroom:this.settings.firstroom,insidePopup:this.settings.insidePopup,utm_source:this.settings.utm_source,utm_medium:this.settings.utm_medium,utm_campaign:this.settings.utm_campaign,utm_term:this.settings.utm_term,utm_content:this.settings.utm_content}}},{key:'_validateSettings',value:function(a){var b=new g.default;b.validateSettings(a)}},{key:'_addCalculatedSettings',value:function(a){return a.iframe_id=a.html_id+'_iframe',this._findGetParameter('dfrom')&&(a.dfrom=this._findGetParameter('dfrom')),this._findGetParameter('dto')&&(a.dto=this._findGetParameter('dto')),this._findGetParameter('lang')&&(a.lang=this._findGetParameter('lang')),this._findGetParameter('currency')&&(a.currency=this._findGetParameter('currency')),this._findGetParameter('promoCode')&&(a.promoCode=this._findGetParameter('promoCode')),this._findGetParameter('onlyrooms')&&(a.rooms=this._findGetParameter('onlyrooms')),this._findGetParameter('vkapp')&&(a.vkapp=this._findGetParameter('vkapp')),this._findGetParameter('scroll_to_rooms')&&(a.scroll_to_rooms=this._findGetParameter('scroll_to_rooms')),this._findGetParameter('adults')&&(a.adults=this._findGetParameter('adults')),this._findGetParameter('children')&&(a.children=this._findGetParameter('children')),this._findGetParameter('fixed_header_selector')&&(a.fixed_header_selector=this._findGetParameter('fixed_header_selector')),this._findGetParameter('fixed_mobile_header_selector')&&(a.fixed_mobile_header_selector=this._findGetParameter('fixed_mobile_header_selector')),this._findGetParameter('scrolling_element_selector')&&(a.scrolling_element_selector=this._findGetParameter('scrolling_element_selector')),this._findGetParameter('scrolling_container_selector')&&(a.scrolling_container_selector=this._findGetParameter('scrolling_container_selector')),this._findGetParameter('fixed_mobile_header_width')&&(a.fixed_mobile_header_width=this._findGetParameter('fixed_mobile_header_width')),this._findGetParameter('servicemode')&&(a.servicemode=this._findGetParameter('servicemode')),this._findGetParameter('firstroom')&&(a.firstroom=this._findGetParameter('firstroom')),this._findGetParameter('insidePopup')&&(a.insidePopup=this._findGetParameter('insidePopup')),this._findGetParameter('utm_source')&&(a.utm_source=this._findGetParameter('utm_source')),this._findGetParameter('utm_medium')&&(a.utm_medium=this._findGetParameter('utm_medium')),this._findGetParameter('utm_campaign')&&(a.utm_campaign=this._findGetParameter('utm_campaign')),this._findGetParameter('utm_term')&&(a.utm_term=this._findGetParameter('utm_term')),this._findGetParameter('utm_content')&&(a.utm_content=this._findGetParameter('utm_content')),a.iframe_url=this._calculateIFrameUrl(a),a}},{key:'_calculateIFrameUrl',value:function(a){var b='https://reservationsteps.ru/rooms/index/'+a.uid+'?lang='+a.lang;return null!==a.dfrom&&(b+='&dfrom='+a.dfrom),null!==a.dto&&(b+='&dto='+a.dto),''!==a.rooms&&(b+='&onlyrooms='+a.rooms),''!==a.promoCode&&(b+='&promoCode='+a.promoCode),null!==a.currency&&(b+='&currency='+a.currency),''!==a.vkapp&&(b+='&vkapp='+a.vkapp),''!==a.scroll_to_rooms&&(b+='&scroll_to_rooms='+a.scroll_to_rooms),null!==a.adults&&(b+='&adults='+a.adults),null!==a.children&&(b+='&children='+a.children),null!==a.servicemode&&1==a.servicemode&&(b+='&servicemode='+a.servicemode),null!==a.firstroom&&(b+='&firstroom='+a.firstroom),null!==a.insidePopup&&(b+='&insidePopup='+a.insidePopup),null!==a.utm_source&&(b+='&utm_source='+a.utm_source),null!==a.utm_medium&&(b+='&utm_medium='+a.utm_medium),null!==a.utm_campaign&&(b+='&utm_campaign='+a.utm_campaign),null!==a.utm_term&&(b+='&utm_term='+a.utm_term),null!==a.utm_content&&(b+='&utm_content='+a.utm_content),b}},{key:'_mergeWithDefaultSettings',value:function(a){var b={};for(var c in h)b[c]=c in a?a[c]:h[c];return b}},{key:'_findGetParameter',value:function(a){var b=null;try{if(this.wixUrl)for(var c in this.wixUrl)c===a&&(b=this.wixUrl[c]);else for(var d=[],e=window.top.location.search.substr(1).split('&'),f=0;f<e.length;f++)d=e[f].split('='),d[0]===a&&(b=decodeURIComponent(d[1]))}catch(b){console.log('\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430\u043C \u0430\u0434\u0440\u0435\u0441\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0438, \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440 '+a+' \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u043E\u043B\u0443\u0447\u0435\u043D.')}return b}}]),a}();b.default=i},function(a,b){'use strict';function c(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=['ru','en','de','zh','es','fr','ja','it','ko','pl','fi','lt','ro','lv','uk','hy'],f=function(){function a(b){c(this,a),this.settings=b}return d(a,[{key:'validateSettings',value:function(a){this._validateHtmlId(a.html_id),this._validateUid(a.uid),this._validateLang(a.lang),this._validateWidth(a.width),this._validateHeight(a.height),this._validateRooms(a.rooms)}},{key:'_validateHtmlId',value:function(a){if(null===document.getElementById(a)&&null===window.parent.document.getElementById(a))throw new Error('\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 html_id \u0434\u043E\u043B\u0436\u043D\u043E \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C id \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0433\u043E DOM \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430. \u041F\u0435\u0440\u0435\u0434\u0430\u043D\u043E: '+a)}},{key:'_validateUid',value:function(a){var b=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/i;if(!b.test(a))throw new Error('\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 uid \u043D\u0435 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043E\u0440\u043C\u0430\u0442\u0443 uid. \u041F\u0435\u0440\u0430\u0434\u0430\u043D\u043E: '+a)}},{key:'_validateLang',value:function(a){if(-1===e.indexOf(a))throw new Error('\u0414\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F \u0434\u043B\u044F \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 lang: '+e.join()+'. \u041F\u0435\u0440\u0430\u0434\u0430\u043D\u043E: '+a)}},{key:'_validateWidth',value:function(a){var b=/^auto$|^\d+px$|^\d+%$/i;if(!b.test(a))throw new Error('\u0414\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F \u0434\u043B\u044F \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 width: "auto", Npx \u0438\u043B\u0438 N%. \u041F\u0435\u0440\u0430\u0434\u0430\u043D\u043E: '+a)}},{key:'_validateHeight',value:function(a){var b=/^auto$|^\d+px$|^\d+%$/i;if(!b.test(a))throw new Error('\u0414\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F \u0434\u043B\u044F \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 height: "auto", Npx \u0438\u043B\u0438 N%. \u041F\u0435\u0440\u0430\u0434\u0430\u043D\u043E: '+a)}},{key:'_validateRooms',value:function(a){var b=/^(\d,?)+$/i;if(''!==a&&!b.test(a))throw new Error('\u041F\u043E\u043B\u0435 rooms \u0434\u043E\u043B\u0436\u043D\u043E \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0447\u0435\u0441\u043B\u0435\u043D\u0438\u0435 id \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0439')}}]),a}();b.default=f}]);